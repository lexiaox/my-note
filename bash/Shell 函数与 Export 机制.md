## 1. Shell 函数 (Function)
类似于编程语言中的函数，是一段存储在内存中的代码块。

* **语法**：
    ```bash
    my_func() {
        echo "Doing something..."
        cd /tmp
    }
    ```
* **关键特性**：
    * 在**当前 Shell 进程**中执行（不启动子进程）。
    * **能**修改当前环境（如 `cd` 改变目录，修改变量）。
    * 比脚本执行速度快（省去了启动进程的开销）。

## 2. Export 命令
用于控制变量的**可见性**范围。

* **默认行为**：在 Shell 中定义的变量默认是**局部变量**，仅在当前 Shell 有效。
* **Export 行为**：`export VAR=value` 将变量提升为**环境变量**。
* **传递机制**：
    * 当启动新脚本（子进程）时，系统会将环境变量**复制**一份给子进程。
    * **单向传递**：子进程对变量的修改**不会**影响父 Shell（因为改的只是复印件）。

## 3. 对比总结
| 特性              | Shell 函数         | Shell 脚本 (`./script.sh`) |
| :-------------- | :--------------- | :----------------------- |
| **执行进程**        | 当前进程             | 新的子进程                    |
| **修改目录 (`cd`)** | **生效** (能改变当前目录) | **失效** (只改变脚本内的目录)       |
| **变量读取**        | 直接读取当前所有变量       | 只能读取 `export` 过的变量       |
|                 |                  |                          |
## 4. 环境配置与持久化 (~/.bashrc)

> **痛点**：在命令行里定义的变量或 alias，一旦关闭窗口就会消失。
> **解决**：将它们写入 `~/.bashrc` 文件中。

| 概念 | 说明 | 关键指令 |
| :--- | :--- | :--- |
| **`~/.bashrc`** | Bash 的启动配置文件。每次**打开新终端**时自动执行。 | `nano ~/.bashrc` (编辑) |
| **`source`** | 让修改的配置文件在**当前终端**立即生效（重载）。 | `source ~/.bashrc` |
| **`alias`** | 给长命令起别名 (快捷方式)。 | `alias ll='ls -l'` |

### 📝 常用配置模板 (建议添加到 .bashrc 末尾)

```bash
# 1. 防止误删文件的保护措施
alias rm='rm -i'      # 删除前会询问确认
alias cp='cp -i'      # 覆盖前会询问
alias mv='mv -i'      # 移动覆盖前会询问

# 2. 常用快捷键
alias ll='ls -alF'    # 列出所有文件详情
alias ..='cd ..'      # 快速返回上一级
alias ...='cd ../..'  # 快速返回上两级

# 3. 环境变量设置
# export PATH=$PATH:/你的/自定义/目录