

### 一、 Vim 核心概念：Magic 模式（默认）

Vim 的默认模式是 Magic 模式，它决定了字符的功能和转义规则。

| 符号类型 | 符号 | **不加 `\`** (默认功能) | **加 `\`** (转义功能) | **核心规则** |
| :--- | :--- | :--- | :--- | :--- |
| **成对符号** | `()` | 匹配**字面字符 `()`** | **功能：** 启用**捕获组** | **加 `\` 启用功能** |
| **非成对符号** | `[]` | **功能：** 启用**字符集** | 匹配**字面字符 `[]`** | **加 `\` 匹配字面** |

### 二、 常用符号（功能启用方式）

| 功能 | 符号（Magic 模式下） | 匹配字面字符 |
| :--- | :--- | :--- |
| **捕获组** | `\(` `\)` | `(` `)` |
| **字符集** | `[` `]` | `\[` `\]` |
| **任意字符** | `.` | `\.` |
| **0 次或多次** | `*` | `\*` |

### 三、 替换命令 `:%s` 与回溯引用

**命令结构：** `:[范围]s/[查找模式]/[替换内容]/[标志]`

#### 1. 核心概念

| 名称 | 作用 | 语法 |
| :--- | :--- | :--- |
| **捕获组** | 在查找模式中，存储匹配到的内容。 | `\(`...`\)` |
| **回溯引用** | 在替换内容中，引用捕获组存储的内容。 | `\1`, `\2`, ... |

#### 2. 示例：URL 提取

将 `[Text](URL)` 转换为 `URL`。

* **查找模式：** `\[.*\](\(.*\))`
* **替换内容：** `\1`
* **完整命令：** `:%s/\[.*\](\(.*\))/\1/g`