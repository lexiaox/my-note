# 1. * 和 ** 的使用方法

在Python中，函数参数前的 `*` 和 `**` 用于处理可变数量的参数，它们的主要区别如下：

## 1. `*` (单星号) - 可变位置参数

用于接收任意数量的**位置参数**，将这些参数打包成一个**元组(tuple)**。

```python
def func(*args):
    print(f"参数类型: {type(args)}")
    print(f"参数值: {args}")
    for arg in args:
        print(arg)

# 调用示例
func(1, 2, 3)
# 输出:
# 参数类型: <class 'tuple'>
# 参数值: (1, 2, 3)
# 1
# 2
# 3

func('a', 'b', 'c', 'd')
# 输出:
# 参数类型: <class 'tuple'>
# 参数值: ('a', 'b', 'c', 'd')
# a
# b
# c
# d
```

## 2. `**` (双星号) - 可变关键字参数

用于接收任意数量的**关键字参数**，将这些参数打包成一个**字典(dict)**。

```python
def func(**kwargs):
    print(f"参数类型: {type(kwargs)}")
    print(f"参数值: {kwargs}")
    for key, value in kwargs.items():
        print(f"{key}: {value}")

# 调用示例
func(name='Alice', age=25, city='Beijing')
# 输出:
# 参数类型: <class 'dict'>
# 参数值: {'name': 'Alice', 'age': 25, 'city': 'Beijing'}
# name: Alice
# age: 25
# city: Beijing

func(x=1, y=2, z=3)
# 输出:
# 参数类型: <class 'dict'>
# 参数值: {'x': 1, 'y': 2, 'z': 3}
# x: 1
# y: 2
# z: 3
```

## 3. 组合使用

可以在同一个函数中同时使用 `*args` 和 `**kwargs`：

```python
def func(*args, **kwargs):
    print(f"位置参数: {args}")
    print(f"关键字参数: {kwargs}")

func(1, 2, 3, name='Alice', age=25)
# 输出:
# 位置参数: (1, 2, 3)
# 关键字参数: {'name': 'Alice', 'age': 25}
```

## 4. 在函数调用时的用法

`*` 和 `**` 也可以在**函数调用时**使用，用于解包序列和字典：

```python
def func(a, b, c):
    print(f"a={a}, b={b}, c={c}")

# 正常调用
func(1, 2, 3)

# 使用 * 解包序列
args_list = [1, 2, 3]
func(*args_list)  # 相当于 func(1, 2, 3)

# 使用 ** 解包字典
kwargs_dict = {'a': 1, 'b': 2, 'c': 3}
func(**kwargs_dict)  # 相当于 func(a=1, b=2, c=3)

# 混合使用
args = [1, 2]
kwargs = {'c': 3}
func(*args, **kwargs)  # 相当于 func(1, 2, c=3)
```

## 5. 实际应用示例

```python
# 日志函数
def log_message(level, *messages, **details):
    print(f"[{level}]", *messages)
    if details:
        print("详细信息:")
        for key, value in details.items():
            print(f"  {key}: {value}")

log_message('ERROR', '数据库连接失败', '请检查网络', 
            timestamp='2023-10-01', user='admin')
# 输出:
# [ERROR] 数据库连接失败 请检查网络
# 详细信息:
#   timestamp: 2023-10-01
#   user: admin

# 配置函数
def create_config(**settings):
    config = {'default_value': 100}
    config.update(settings)
    return config

config = create_config(timeout=30, retries=3, debug=True)
print(config)
# 输出: {'default_value': 100, 'timeout': 30, 'retries': 3, 'debug': True}
```

## 总结

| 符号 | 用途 | 参数类型 | 打包成 |
|------|------|----------|--------|
| `*` | 接收可变位置参数 | 位置参数 | 元组(tuple) |
| `**` | 接收可变关键字参数 | 关键字参数 | 字典(dict) |

这两个符号让Python函数具有很好的灵活性，可以处理不同数量和类型的参数。

##  2. Python三大高阶函数详解（filter(),map(),sorted())

## 1. filter() 函数

### 功能
过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的迭代器。

### 语法
```python
filter(function, iterable)
```

### 参数
- `function`：判断函数，返回布尔值
- `iterable`：可迭代对象

### 示例
```python
# 过滤出偶数
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(even_numbers)  # [2, 4, 6, 8, 10]

# 过滤出非空字符串
words = ['hello', '', 'world', '', 'python', '']
non_empty = list(filter(None, words))
print(non_empty)  # ['hello', 'world', 'python']

# 过滤出正数
numbers = [-5, -2, 0, 3, 8, -1]
positive = list(filter(lambda x: x > 0, numbers))
print(positive)  # [3, 8]
```

## 2. map() 函数

### 功能
对序列中的每个元素执行指定操作，返回处理后的迭代器。

### 语法
```python
map(function, iterable, ...)
```

### 参数
- `function`：处理函数
- `iterable`：一个或多个可迭代对象

### 示例
```python
# 对每个元素平方
numbers = [1, 2, 3, 4, 5]
squared = list(map(lambda x: x ** 2, numbers))
print(squared)  # [1, 4, 9, 16, 25]

# 字符串转大写
words = ['hello', 'world', 'python']
upper_words = list(map(str.upper, words))
print(upper_words)  # ['HELLO', 'WORLD', 'PYTHON']

# 多个序列操作
nums1 = [1, 2, 3]
nums2 = [4, 5, 6]
result = list(map(lambda x, y: x + y, nums1, nums2))
print(result)  # [5, 7, 9]

# 类型转换
str_numbers = ['1', '2', '3', '4']
int_numbers = list(map(int, str_numbers))
print(int_numbers)  # [1, 2, 3, 4]
```

## 3. sorted() 函数

### 功能
对可迭代对象进行排序，返回新的排序列表。

### 语法
```python
sorted(iterable, key=None, reverse=False)
```

### 参数
- `iterable`：可迭代对象
- `key`：排序依据的函数
- `reverse`：是否反向排序，默认False（升序）

### 示例
```python
# 基本排序
numbers = [3, 1, 4, 1, 5, 9, 2]
sorted_numbers = sorted(numbers)
print(sorted_numbers)  # [1, 1, 2, 3, 4, 5, 9]

# 降序排序
descending = sorted(numbers, reverse=True)
print(descending)  # [9, 5, 4, 3, 2, 1, 1]

# 按字符串长度排序
words = ['apple', 'banana', 'cherry', 'date']
by_length = sorted(words, key=len)
print(by_length)  # ['date', 'apple', 'banana', 'cherry']

# 按自定义规则排序
students = [
    {'name': 'Alice', 'score': 85},
    {'name': 'Bob', 'score': 92},
    {'name': 'Charlie', 'score': 78}
]

# 按分数排序
by_score = sorted(students, key=lambda x: x['score'])
print(by_score)
# [{'name': 'Charlie', 'score': 78}, {'name': 'Alice', 'score': 85}, {'name': 'Bob', 'score': 92}]

# 字符串忽略大小写排序
words = ['Apple', 'banana', 'Cherry', 'date']
case_insensitive = sorted(words, key=str.lower)
print(case_insensitive)  # ['Apple', 'banana', 'Cherry', 'date']
```

## 三个函数的对比总结

| 函数 | 作用 | 返回值 | 特点 |
|------|------|--------|------|
| `filter()` | 过滤 | 迭代器 | 根据条件筛选元素 |
| `map()` | 映射 | 迭代器 | 对每个元素进行转换 |
| `sorted()` | 排序 | 列表 | 返回新的排序列表 |

## 组合使用示例

```python
# 综合应用：处理学生数据
students = [
    {'name': 'Alice', 'score': 85, 'age': 20},
    {'name': 'Bob', 'score': 92, 'age': 22},
    {'name': 'Charlie', 'score': 78, 'age': 19},
    {'name': 'David', 'score': 88, 'age': 21}
]

# 过滤出分数大于80的学生，按年龄排序，只保留姓名
result = sorted(
    map(lambda x: x['name'], 
        filter(lambda x: x['score'] > 80, students)
    ),
    key=lambda name: next(s['age'] for s in students if s['name'] == name)
)

print(result)  # ['Alice', 'David', 'Bob']
```

## 记忆技巧

- **filter**：像筛子一样**过滤**出需要的元素
- **map**：像地图一样**映射**转换每个元素  
- **sorted**：像整理一样**排序**元素

这三个函数都是函数式编程的重要工具，可以让代码更简洁、易读！